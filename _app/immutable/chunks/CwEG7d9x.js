var qn=Object.defineProperty;var Gn=(e,n,t)=>n in e?qn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var A=(e,n,t)=>Gn(e,typeof n!="symbol"?n+"":n,t);import{J as ke,E as z,af as Kn,ag as Hn,F as vn,D as Jn,g as en,R as Xn,H as Qn,I as nn,K as Se,O as re,an as Wn,L as _n,M as En,N as Yn,ar as An,C as Zn,$ as et,v as tn,at as Te,z as rn,au as Oe,av as on,aw as nt,aq as tt,ax as rt,a1 as ot,ay as ze,az as it,al as st,aA as kn,a6 as at,aB as ct,aC as ft,aD as ut,B as dt,aE as lt,i as ht,aF as pt,k as Q,l as W,m as Ne,t as yt}from"./BcEqqSnB.js";import{c as gt,e as oe,a as sn,t as wt,s as xt}from"./BfYXodMD.js";import"./Be8ZYNR8.js";import{p as an,i as mt}from"./DkPdWr7y.js";import{w as Sn}from"./DRLdBtpp.js";let cn=!1;function bt(){cn||(cn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const t of e.target.elements)(n=t.__on_r)==null||n.call(t)})},{capture:!0}))}function Ho(e,n){return n}function vt(e,n,t,r){for(var o=[],i=n.length,a=0;a<i;a++)nt(n[a].e,o,!0);var f=i>0&&o.length===0&&t!==null;if(f){var p=t.parentNode;tt(p),p.append(t),r.clear(),V(e,n[0].prev,n[i-1].next)}rt(o,()=>{for(var m=0;m<i;m++){var l=n[m];f||(r.delete(l.k),V(e,l.prev,l.next)),ot(l.e,!f)}})}function Jo(e,n,t,r,o,i=null){var a=e,f={items:new Map,first:null},p=(n&kn)!==0;if(p){var m=e;a=z?ke(Kn(m)):m.appendChild(Hn())}z&&vn();var l=null,T=!1,y=Xn(()=>{var _=t();return Zn(_)?_:_==null?[]:An(_)});Jn(()=>{var _=en(y),u=_.length;if(T&&u===0)return;T=u===0;let E=!1;if(z){var S=a.data===Qn;S!==(u===0)&&(a=nn(),ke(a),Se(!1),E=!0)}if(z){for(var b=null,k,v=0;v<u;v++){if(re.nodeType===8&&re.data===Wn){a=re,E=!0,Se(!1);break}var h=_[v],w=r(h,v);k=Tn(re,f,b,null,h,w,v,o,n,t),f.items.set(w,k),b=k}u>0&&ke(nn())}z||_t(_,f,a,o,n,r,t),i!==null&&(u===0?l?_n(l):l=En(()=>i(a)):l!==null&&Yn(l,()=>{l=null})),E&&Se(!0),en(y)}),z&&(a=re)}function _t(e,n,t,r,o,i,a){var Xe,Qe,We,Ye;var f=(o&ct)!==0,p=(o&(ze|Oe))!==0,m=e.length,l=n.items,T=n.first,y=T,_,u=null,E,S=[],b=[],k,v,h,w;if(f)for(w=0;w<m;w+=1)k=e[w],v=i(k,w),h=l.get(v),h!==void 0&&((Xe=h.a)==null||Xe.measure(),(E??(E=new Set)).add(h));for(w=0;w<m;w+=1){if(k=e[w],v=i(k,w),h=l.get(v),h===void 0){var O=y?y.e.nodes_start:t;u=Tn(O,n,u,u===null?n.first:u.next,k,v,w,r,o,a),l.set(v,u),S=[],b=[],y=u.next;continue}if(p&&Et(h,k,w,o),h.e.f&Te&&(_n(h.e),f&&((Qe=h.a)==null||Qe.unfix(),(E??(E=new Set)).delete(h))),h!==y){if(_!==void 0&&_.has(h)){if(S.length<b.length){var B=b[0],N;u=B.prev;var q=S[0],Ee=S[S.length-1];for(N=0;N<S.length;N+=1)fn(S[N],B,t);for(N=0;N<b.length;N+=1)_.delete(b[N]);V(n,q.prev,Ee.next),V(n,u,q),V(n,Ee,B),y=B,u=Ee,w-=1,S=[],b=[]}else _.delete(h),fn(h,y,t),V(n,h.prev,h.next),V(n,h,u===null?n.first:u.next),V(n,u,h),u=h;continue}for(S=[],b=[];y!==null&&y.k!==v;)y.e.f&Te||(_??(_=new Set)).add(y),b.push(y),y=y.next;if(y===null)continue;h=y}S.push(h),u=h,y=h.next}if(y!==null||_!==void 0){for(var te=_===void 0?[]:An(_);y!==null;)y.e.f&Te||te.push(y),y=y.next;var Ae=te.length;if(Ae>0){var Pn=o&kn&&m===0?t:null;if(f){for(w=0;w<Ae;w+=1)(We=te[w].a)==null||We.measure();for(w=0;w<Ae;w+=1)(Ye=te[w].a)==null||Ye.fix()}vt(n,te,Pn,l)}}f&&at(()=>{var Ze;if(E!==void 0)for(h of E)(Ze=h.a)==null||Ze.apply()}),rn.first=n.first&&n.first.e,rn.last=u&&u.e}function Et(e,n,t,r){r&ze&&on(e.v,n),r&Oe?on(e.i,t):e.i=t}function Tn(e,n,t,r,o,i,a,f,p,m){var l=(p&ze)!==0,T=(p&it)===0,y=l?T?et(o):tn(o):o,_=p&Oe?tn(a):a,u={i:_,v:y,k:i,a:null,e:null,prev:t,next:r};try{return u.e=En(()=>f(e,y,_,m),z),u.e.prev=t&&t.e,u.e.next=r&&r.e,t===null?n.first=u:(t.next=u,t.e.next=u.e),r!==null&&(r.prev=u,r.e.prev=u.e),u}finally{}}function fn(e,n,t){for(var r=e.next?e.next.e.nodes_start:t,o=n?n.e.nodes_start:t,i=e.e.nodes_start;i!==r;){var a=st(i);o.before(i),i=a}}function V(e,n,t){n===null?e.first=t:(n.next=t,n.e.next=t&&t.e),t!==null&&(t.prev=n,t.e.prev=n&&n.e)}function At(e,n,t,r,o){var f;z&&vn();var i=(f=n.$$slots)==null?void 0:f[t],a=!1;i===!0&&(i=n.children,a=!0),i===void 0||i(e,a?()=>r:r)}function Xo(e){if(z){var n=!1,t=()=>{if(!n){if(n=!0,e.hasAttribute("value")){var r=e.value;un(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;un(e,"checked",null),e.checked=o}}};e.__on_r=t,ft(t),bt()}}function Qo(e,n){var t=e.__attributes??(e.__attributes={});t.value===(t.value=n??void 0)||e.value===n&&(n!==0||e.nodeName!=="PROGRESS")||(e.value=n??"")}function un(e,n,t,r){var o=e.__attributes??(e.__attributes={});z&&(o[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName==="LINK")||o[n]!==(o[n]=t)&&(n==="style"&&"__styles"in e&&(e.__styles={}),n==="loading"&&(e[ut]=t),t==null?e.removeAttribute(n):typeof t!="string"&&kt(e).includes(n)?e[n]=t:e.setAttribute(n,t))}var dn=new Map;function kt(e){var n=dn.get(e.nodeName);if(n)return n;dn.set(e.nodeName,n=[]);for(var t,r=e,o=Element.prototype;o!==r;){t=lt(r);for(var i in t)t[i].set&&n.push(i);r=dt(r)}return n}var St=wt('<div class="fixed inset-0 bg-black/60 flex items-center justify-center z-50" role="button" tabindex="0"><div class="bg-white rounded-lg p-6 max-w-xl w-full max-h-[90vh] overflow-auto" role="dialog" aria-modal="true"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold"> </h2> <button class="text-gray-500 hover:text-gray-700">âœ•</button></div> <div class="mb-4"><!></div> <div class="flex justify-end"><button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Close</button></div></div></div>');function Wo(e,n){let t=an(n,"showModal",12),r=an(n,"title",8,"");function o(){t(!1)}function i(l){l.key==="Escape"&&o()}function a(l){l.target===l.currentTarget&&o()}var f=gt();oe("keydown",pt,i);var p=ht(f);{var m=l=>{var T=St(),y=Q(T),_=Q(y),u=Q(_),E=Q(u,!0);W(u);var S=Ne(u,2);W(_);var b=Ne(_,2),k=Q(b);At(k,n,"default",{}),W(b);var v=Ne(b,2),h=Q(v);W(v),W(y),W(T),yt(()=>xt(E,r())),oe("click",S,o),oe("click",h,o),oe("click",T,a),oe("keydown",T,i),sn(l,T)};mt(p,l=>{t()&&l(m)})}sn(e,f)}const Tt=["string","number","bigint","symbol"],Nt=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Ct(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const n=typeof e;if(Tt.includes(n))return n;if(n==="function")return"Function";if(Array.isArray(e))return"Array";if(It(e))return"Buffer";const t=Bt(e);return t||"Object"}function It(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Bt(e){const n=Object.prototype.toString.call(e).slice(8,-1);if(Nt.includes(n))return n}class s{constructor(n,t,r){this.major=n,this.majorEncoded=n<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(n){return this.major<n.major?-1:this.major>n.major?1:0}}s.uint=new s(0,"uint",!0);s.negint=new s(1,"negint",!0);s.bytes=new s(2,"bytes",!0);s.string=new s(3,"string",!0);s.array=new s(4,"array",!1);s.map=new s(5,"map",!1);s.tag=new s(6,"tag",!1);s.float=new s(7,"float",!0);s.false=new s(7,"false",!0);s.true=new s(7,"true",!0);s.null=new s(7,"null",!0);s.undefined=new s(7,"undefined",!0);s.break=new s(7,"break",!0);class d{constructor(n,t,r){this.type=n,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Y=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Ut=new TextDecoder,$t=new TextEncoder;function le(e){return Y&&globalThis.Buffer.isBuffer(e)}function Nn(e){return e instanceof Uint8Array?le(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Mt=Y?(e,n,t)=>t-n>64?globalThis.Buffer.from(e.subarray(n,t)).toString("utf8"):hn(e,n,t):(e,n,t)=>t-n>64?Ut.decode(e.subarray(n,t)):hn(e,n,t),Ot=Y?e=>e.length>64?globalThis.Buffer.from(e):ln(e):e=>e.length>64?$t.encode(e):ln(e),F=e=>Uint8Array.from(e),De=Y?(e,n,t)=>le(e)?new Uint8Array(e.subarray(n,t)):e.slice(n,t):(e,n,t)=>e.slice(n,t),zt=Y?(e,n)=>(e=e.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),Nn(globalThis.Buffer.concat(e,n))):(e,n)=>{const t=new Uint8Array(n);let r=0;for(let o of e)r+o.length>t.length&&(o=o.subarray(0,t.length-r)),t.set(o,r),r+=o.length;return t},Dt=Y?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Ft(e,n){if(le(e)&&le(n))return e.compare(n);for(let t=0;t<e.length;t++)if(e[t]!==n[t])return e[t]<n[t]?-1:1;return 0}function ln(e){const n=[];let t=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?n[t++]=o:o<2048?(n[t++]=o>>6|192,n[t++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),n[t++]=o>>18|240,n[t++]=o>>12&63|128,n[t++]=o>>6&63|128,n[t++]=o&63|128):(n[t++]=o>>12|224,n[t++]=o>>6&63|128,n[t++]=o&63|128)}return n}function hn(e,n,t){const r=[];for(;n<t;){const o=e[n];let i=null,a=o>239?4:o>223?3:o>191?2:1;if(n+a<=t){let f,p,m,l;switch(a){case 1:o<128&&(i=o);break;case 2:f=e[n+1],(f&192)===128&&(l=(o&31)<<6|f&63,l>127&&(i=l));break;case 3:f=e[n+1],p=e[n+2],(f&192)===128&&(p&192)===128&&(l=(o&15)<<12|(f&63)<<6|p&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:f=e[n+1],p=e[n+2],m=e[n+3],(f&192)===128&&(p&192)===128&&(m&192)===128&&(l=(o&15)<<18|(f&63)<<12|(p&63)<<6|m&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|i&1023),r.push(i),n+=a}return Rt(r)}const pn=4096;function Rt(e){const n=e.length;if(n<=pn)return String.fromCharCode.apply(String,e);let t="",r=0;for(;r<n;)t+=String.fromCharCode.apply(String,e.slice(r,r+=pn));return t}const Lt=256;class Cn{constructor(n=Lt){this.chunkSize=n,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(n){let t=this.chunks[this.chunks.length-1];if(this.cursor+n.length<=this.maxCursor+1){const o=t.length-(this.maxCursor-this.cursor)-1;t.set(n,o)}else{if(t){const o=t.length-(this.maxCursor-this.cursor)-1;o<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,o),this.maxCursor=this.cursor-1)}n.length<64&&n.length<this.chunkSize?(t=Dt(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(n,0)):(this.chunks.push(n),this.maxCursor+=n.length)}this.cursor+=n.length}toBytes(n=!1){let t;if(this.chunks.length===1){const r=this.chunks[0];n&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=De(r,0,this.cursor)}else t=zt(this.chunks,this.cursor);return n&&this.reset(),t}}const g="CBOR decode error:",In="CBOR encode error:";function Z(e,n,t){if(e.length-n<t)throw new Error(`${g} not enough data for type`)}const I=[24,256,65536,4294967296,BigInt("18446744073709551616")];function G(e,n,t){Z(e,n,1);const r=e[n];if(t.strict===!0&&r<I[0])throw new Error(`${g} integer encoded in more bytes than necessary (strict decode)`);return r}function K(e,n,t){Z(e,n,2);const r=e[n]<<8|e[n+1];if(t.strict===!0&&r<I[1])throw new Error(`${g} integer encoded in more bytes than necessary (strict decode)`);return r}function H(e,n,t){Z(e,n,4);const r=e[n]*16777216+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(t.strict===!0&&r<I[2])throw new Error(`${g} integer encoded in more bytes than necessary (strict decode)`);return r}function J(e,n,t){Z(e,n,8);const r=e[n]*16777216+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3],o=e[n+4]*16777216+(e[n+5]<<16)+(e[n+6]<<8)+e[n+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(t.strict===!0&&i<I[3])throw new Error(`${g} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(t.allowBigInt===!0)return i;throw new Error(`${g} integers outside of the safe integer range are not supported`)}function Vt(e,n,t,r){return new d(s.uint,G(e,n+1,r),2)}function jt(e,n,t,r){return new d(s.uint,K(e,n+1,r),3)}function Pt(e,n,t,r){return new d(s.uint,H(e,n+1,r),5)}function qt(e,n,t,r){return new d(s.uint,J(e,n+1,r),9)}function X(e,n){return $(e,0,n.value)}function $(e,n,t){if(t<I[0]){const r=Number(t);e.push([n|r])}else if(t<I[1]){const r=Number(t);e.push([n|24,r])}else if(t<I[2]){const r=Number(t);e.push([n|25,r>>>8,r&255])}else if(t<I[3]){const r=Number(t);e.push([n|26,r>>>24&255,r>>>16&255,r>>>8&255,r&255])}else{const r=BigInt(t);if(r<I[4]){const o=[n|27,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),a=Number(r>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${g} encountered BigInt larger than allowable range`)}}X.encodedSize=function(n){return $.encodedSize(n.value)};$.encodedSize=function(n){return n<I[0]?1:n<I[1]?2:n<I[2]?3:n<I[3]?5:9};X.compareTokens=function(n,t){return n.value<t.value?-1:n.value>t.value?1:0};function Gt(e,n,t,r){return new d(s.negint,-1-G(e,n+1,r),2)}function Kt(e,n,t,r){return new d(s.negint,-1-K(e,n+1,r),3)}function Ht(e,n,t,r){return new d(s.negint,-1-H(e,n+1,r),5)}const Fe=BigInt(-1),Bn=BigInt(1);function Jt(e,n,t,r){const o=J(e,n+1,r);if(typeof o!="bigint"){const i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new d(s.negint,i,9)}if(r.allowBigInt!==!0)throw new Error(`${g} integers outside of the safe integer range are not supported`);return new d(s.negint,Fe-BigInt(o),9)}function Re(e,n){const t=n.value,r=typeof t=="bigint"?t*Fe-Bn:t*-1-1;$(e,n.type.majorEncoded,r)}Re.encodedSize=function(n){const t=n.value,r=typeof t=="bigint"?t*Fe-Bn:t*-1-1;return r<I[0]?1:r<I[1]?2:r<I[2]?3:r<I[3]?5:9};Re.compareTokens=function(n,t){return n.value<t.value?1:n.value>t.value?-1:0};function ce(e,n,t,r){Z(e,n,t+r);const o=De(e,n+t,n+t+r);return new d(s.bytes,o,t+r)}function Xt(e,n,t,r){return ce(e,n,1,t)}function Qt(e,n,t,r){return ce(e,n,2,G(e,n+1,r))}function Wt(e,n,t,r){return ce(e,n,3,K(e,n+1,r))}function Yt(e,n,t,r){return ce(e,n,5,H(e,n+1,r))}function Zt(e,n,t,r){const o=J(e,n+1,r);if(typeof o=="bigint")throw new Error(`${g} 64-bit integer bytes lengths not supported`);return ce(e,n,9,o)}function he(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===s.string?Ot(e.value):e.value),e.encodedBytes}function me(e,n){const t=he(n);$(e,n.type.majorEncoded,t.length),e.push(t)}me.encodedSize=function(n){const t=he(n);return $.encodedSize(t.length)+t.length};me.compareTokens=function(n,t){return er(he(n),he(t))};function er(e,n){return e.length<n.length?-1:e.length>n.length?1:Ft(e,n)}function fe(e,n,t,r,o){const i=t+r;Z(e,n,i);const a=new d(s.string,Mt(e,n+t,n+i),i);return o.retainStringBytes===!0&&(a.byteValue=De(e,n+t,n+i)),a}function nr(e,n,t,r){return fe(e,n,1,t,r)}function tr(e,n,t,r){return fe(e,n,2,G(e,n+1,r),r)}function rr(e,n,t,r){return fe(e,n,3,K(e,n+1,r),r)}function or(e,n,t,r){return fe(e,n,5,H(e,n+1,r),r)}function ir(e,n,t,r){const o=J(e,n+1,r);if(typeof o=="bigint")throw new Error(`${g} 64-bit integer string lengths not supported`);return fe(e,n,9,o,r)}const sr=me;function ee(e,n,t,r){return new d(s.array,r,t)}function ar(e,n,t,r){return ee(e,n,1,t)}function cr(e,n,t,r){return ee(e,n,2,G(e,n+1,r))}function fr(e,n,t,r){return ee(e,n,3,K(e,n+1,r))}function ur(e,n,t,r){return ee(e,n,5,H(e,n+1,r))}function dr(e,n,t,r){const o=J(e,n+1,r);if(typeof o=="bigint")throw new Error(`${g} 64-bit integer array lengths not supported`);return ee(e,n,9,o)}function lr(e,n,t,r){if(r.allowIndefinite===!1)throw new Error(`${g} indefinite length items not allowed`);return ee(e,n,1,1/0)}function Le(e,n){$(e,s.array.majorEncoded,n.value)}Le.compareTokens=X.compareTokens;Le.encodedSize=function(n){return $.encodedSize(n.value)};function ne(e,n,t,r){return new d(s.map,r,t)}function hr(e,n,t,r){return ne(e,n,1,t)}function pr(e,n,t,r){return ne(e,n,2,G(e,n+1,r))}function yr(e,n,t,r){return ne(e,n,3,K(e,n+1,r))}function gr(e,n,t,r){return ne(e,n,5,H(e,n+1,r))}function wr(e,n,t,r){const o=J(e,n+1,r);if(typeof o=="bigint")throw new Error(`${g} 64-bit integer map lengths not supported`);return ne(e,n,9,o)}function xr(e,n,t,r){if(r.allowIndefinite===!1)throw new Error(`${g} indefinite length items not allowed`);return ne(e,n,1,1/0)}function Ve(e,n){$(e,s.map.majorEncoded,n.value)}Ve.compareTokens=X.compareTokens;Ve.encodedSize=function(n){return $.encodedSize(n.value)};function mr(e,n,t,r){return new d(s.tag,t,1)}function br(e,n,t,r){return new d(s.tag,G(e,n+1,r),2)}function vr(e,n,t,r){return new d(s.tag,K(e,n+1,r),3)}function _r(e,n,t,r){return new d(s.tag,H(e,n+1,r),5)}function Er(e,n,t,r){return new d(s.tag,J(e,n+1,r),9)}function je(e,n){$(e,s.tag.majorEncoded,n.value)}je.compareTokens=X.compareTokens;je.encodedSize=function(n){return $.encodedSize(n.value)};const Ar=20,kr=21,Sr=22,Tr=23;function Nr(e,n,t,r){if(r.allowUndefined===!1)throw new Error(`${g} undefined values are not supported`);return r.coerceUndefinedToNull===!0?new d(s.null,null,1):new d(s.undefined,void 0,1)}function Cr(e,n,t,r){if(r.allowIndefinite===!1)throw new Error(`${g} indefinite length items not allowed`);return new d(s.break,void 0,1)}function Pe(e,n,t){if(t){if(t.allowNaN===!1&&Number.isNaN(e))throw new Error(`${g} NaN values are not supported`);if(t.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${g} Infinity values are not supported`)}return new d(s.float,e,n)}function Ir(e,n,t,r){return Pe(Ge(e,n+1),3,r)}function Br(e,n,t,r){return Pe(Ke(e,n+1),5,r)}function Ur(e,n,t,r){return Pe(On(e,n+1),9,r)}function qe(e,n,t){const r=n.value;if(r===!1)e.push([s.float.majorEncoded|Ar]);else if(r===!0)e.push([s.float.majorEncoded|kr]);else if(r===null)e.push([s.float.majorEncoded|Sr]);else if(r===void 0)e.push([s.float.majorEncoded|Tr]);else{let o,i=!1;(!t||t.float64!==!0)&&($n(r),o=Ge(M,1),r===o||Number.isNaN(r)?(M[0]=249,e.push(M.slice(0,3)),i=!0):(Mn(r),o=Ke(M,1),r===o&&(M[0]=250,e.push(M.slice(0,5)),i=!0))),i||($r(r),o=On(M,1),M[0]=251,e.push(M.slice(0,9)))}}qe.encodedSize=function(n,t){const r=n.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){$n(r);let o=Ge(M,1);if(r===o||Number.isNaN(r))return 3;if(Mn(r),o=Ke(M,1),r===o)return 5}return 9};const Un=new ArrayBuffer(9),U=new DataView(Un,1),M=new Uint8Array(Un,0);function $n(e){if(e===1/0)U.setUint16(0,31744,!1);else if(e===-1/0)U.setUint16(0,64512,!1);else if(Number.isNaN(e))U.setUint16(0,32256,!1);else{U.setFloat32(0,e);const n=U.getUint32(0),t=(n&2139095040)>>23,r=n&8388607;if(t===255)U.setUint16(0,31744,!1);else if(t===0)U.setUint16(0,(e&2147483648)>>16|r>>13,!1);else{const o=t-127;o<-24?U.setUint16(0,0):o<-14?U.setUint16(0,(n&2147483648)>>16|1<<24+o,!1):U.setUint16(0,(n&2147483648)>>16|o+15<<10|r>>13,!1)}}}function Ge(e,n){if(e.length-n<2)throw new Error(`${g} not enough data for float16`);const t=(e[n]<<8)+e[n+1];if(t===31744)return 1/0;if(t===64512)return-1/0;if(t===32256)return NaN;const r=t>>10&31,o=t&1023;let i;return r===0?i=o*2**-24:r!==31?i=(o+1024)*2**(r-25):i=o===0?1/0:NaN,t&32768?-i:i}function Mn(e){U.setFloat32(0,e,!1)}function Ke(e,n){if(e.length-n<4)throw new Error(`${g} not enough data for float32`);const t=(e.byteOffset||0)+n;return new DataView(e.buffer,t,4).getFloat32(0,!1)}function $r(e){U.setFloat64(0,e,!1)}function On(e,n){if(e.length-n<8)throw new Error(`${g} not enough data for float64`);const t=(e.byteOffset||0)+n;return new DataView(e.buffer,t,8).getFloat64(0,!1)}qe.compareTokens=X.compareTokens;function x(e,n,t){throw new Error(`${g} encountered invalid minor (${t}) for major ${e[n]>>>5}`)}function be(e){return()=>{throw new Error(`${g} ${e}`)}}const c=[];for(let e=0;e<=23;e++)c[e]=x;c[24]=Vt;c[25]=jt;c[26]=Pt;c[27]=qt;c[28]=x;c[29]=x;c[30]=x;c[31]=x;for(let e=32;e<=55;e++)c[e]=x;c[56]=Gt;c[57]=Kt;c[58]=Ht;c[59]=Jt;c[60]=x;c[61]=x;c[62]=x;c[63]=x;for(let e=64;e<=87;e++)c[e]=Xt;c[88]=Qt;c[89]=Wt;c[90]=Yt;c[91]=Zt;c[92]=x;c[93]=x;c[94]=x;c[95]=be("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)c[e]=nr;c[120]=tr;c[121]=rr;c[122]=or;c[123]=ir;c[124]=x;c[125]=x;c[126]=x;c[127]=be("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)c[e]=ar;c[152]=cr;c[153]=fr;c[154]=ur;c[155]=dr;c[156]=x;c[157]=x;c[158]=x;c[159]=lr;for(let e=160;e<=183;e++)c[e]=hr;c[184]=pr;c[185]=yr;c[186]=gr;c[187]=wr;c[188]=x;c[189]=x;c[190]=x;c[191]=xr;for(let e=192;e<=215;e++)c[e]=mr;c[216]=br;c[217]=vr;c[218]=_r;c[219]=Er;c[220]=x;c[221]=x;c[222]=x;c[223]=x;for(let e=224;e<=243;e++)c[e]=be("simple values are not supported");c[244]=x;c[245]=x;c[246]=x;c[247]=Nr;c[248]=be("simple values are not supported");c[249]=Ir;c[250]=Br;c[251]=Ur;c[252]=x;c[253]=x;c[254]=x;c[255]=Cr;const D=[];for(let e=0;e<24;e++)D[e]=new d(s.uint,e,1);for(let e=-1;e>=-24;e--)D[31-e]=new d(s.negint,e,1);D[64]=new d(s.bytes,new Uint8Array(0),1);D[96]=new d(s.string,"",1);D[128]=new d(s.array,0,1);D[160]=new d(s.map,0,1);D[244]=new d(s.false,!1,1);D[245]=new d(s.true,!0,1);D[246]=new d(s.null,null,1);function Mr(e){switch(e.type){case s.false:return F([244]);case s.true:return F([245]);case s.null:return F([246]);case s.bytes:return e.value.length?void 0:F([64]);case s.string:return e.value===""?F([96]):void 0;case s.array:return e.value===0?F([128]):void 0;case s.map:return e.value===0?F([160]):void 0;case s.uint:return e.value<24?F([Number(e.value)]):void 0;case s.negint:if(e.value>=-24)return F([31-Number(e.value)])}}const Or={float64:!1,mapSorter:Fr,quickEncodeToken:Mr};function zr(){const e=[];return e[s.uint.major]=X,e[s.negint.major]=Re,e[s.bytes.major]=me,e[s.string.major]=sr,e[s.array.major]=Le,e[s.map.major]=Ve,e[s.tag.major]=je,e[s.float.major]=qe,e}const zn=zr(),Ce=new Cn;class pe{constructor(n,t){this.obj=n,this.parent=t}includes(n){let t=this;do if(t.obj===n)return!0;while(t=t.parent);return!1}static createCheck(n,t){if(n&&n.includes(t))throw new Error(`${In} object contains circular references`);return new pe(t,n)}}const L={null:new d(s.null,null),undefined:new d(s.undefined,void 0),true:new d(s.true,!0),false:new d(s.false,!1),emptyArray:new d(s.array,0),emptyMap:new d(s.map,0)},P={number(e,n,t,r){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new d(s.float,e):e>=0?new d(s.uint,e):new d(s.negint,e)},bigint(e,n,t,r){return e>=BigInt(0)?new d(s.uint,e):new d(s.negint,e)},Uint8Array(e,n,t,r){return new d(s.bytes,e)},string(e,n,t,r){return new d(s.string,e)},boolean(e,n,t,r){return e?L.true:L.false},null(e,n,t,r){return L.null},undefined(e,n,t,r){return L.undefined},ArrayBuffer(e,n,t,r){return new d(s.bytes,new Uint8Array(e))},DataView(e,n,t,r){return new d(s.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,n,t,r){if(!e.length)return t.addBreakTokens===!0?[L.emptyArray,new d(s.break)]:L.emptyArray;r=pe.createCheck(r,e);const o=[];let i=0;for(const a of e)o[i++]=ue(a,t,r);return t.addBreakTokens?[new d(s.array,e.length),o,new d(s.break)]:[new d(s.array,e.length),o]},Object(e,n,t,r){const o=n!=="Object",i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return t.addBreakTokens===!0?[L.emptyMap,new d(s.break)]:L.emptyMap;r=pe.createCheck(r,e);const f=[];let p=0;for(const m of i)f[p++]=[ue(m,t,r),ue(o?e.get(m):e[m],t,r)];return Dr(f,t),t.addBreakTokens?[new d(s.map,a),f,new d(s.break)]:[new d(s.map,a),f]}};P.Map=P.Object;P.Buffer=P.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))P[`${e}Array`]=P.DataView;function ue(e,n={},t){const r=Ct(e),o=n&&n.typeEncoders&&n.typeEncoders[r]||P[r];if(typeof o=="function"){const a=o(e,r,n,t);if(a!=null)return a}const i=P[r];if(!i)throw new Error(`${In} unsupported type: ${r}`);return i(e,r,n,t)}function Dr(e,n){n.mapSorter&&e.sort(n.mapSorter)}function Fr(e,n){const t=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(n[0])?n[0][0]:n[0];if(t.type!==r.type)return t.type.compare(r.type);const o=t.type.major,i=zn[o].compareTokens(t,r);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function Dn(e,n,t,r){if(Array.isArray(n))for(const o of n)Dn(e,o,t,r);else t[n.type.major](e,n,r)}function Rr(e,n,t){const r=ue(e,t);if(!Array.isArray(r)&&t.quickEncodeToken){const o=t.quickEncodeToken(r);if(o)return o;const i=n[r.type.major];if(i.encodedSize){const a=i.encodedSize(r,t),f=new Cn(a);if(i(f,r,t),f.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return Nn(f.chunks[0])}}return Ce.reset(),Dn(Ce,r,n,t),Ce.toBytes(!0)}function Lr(e,n){return n=Object.assign({},Or,n),Rr(e,zn,n)}const Vr={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class jr{constructor(n,t={}){this._pos=0,this.data=n,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const n=this.data[this._pos];let t=D[n];if(t===void 0){const r=c[n];if(!r)throw new Error(`${g} no decoder for major type ${n>>>5} (byte 0x${n.toString(16).padStart(2,"0")})`);const o=n&31;t=r(this.data,this._pos,o,this.options)}return this._pos+=t.encodedLength,t}}const se=Symbol.for("DONE"),ve=Symbol.for("BREAK");function Pr(e,n,t){const r=[];for(let o=0;o<e.value;o++){const i=ae(n,t);if(i===ve){if(e.value===1/0)break;throw new Error(`${g} got unexpected break to lengthed array`)}if(i===se)throw new Error(`${g} found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}function qr(e,n,t){const r=t.useMaps===!0,o=r?void 0:{},i=r?new Map:void 0;for(let a=0;a<e.value;a++){const f=ae(n,t);if(f===ve){if(e.value===1/0)break;throw new Error(`${g} got unexpected break to lengthed map`)}if(f===se)throw new Error(`${g} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(r!==!0&&typeof f!="string")throw new Error(`${g} non-string keys not supported (got ${typeof f})`);if(t.rejectDuplicateMapKeys===!0&&(r&&i.has(f)||!r&&f in o))throw new Error(`${g} found repeat map key "${f}"`);const p=ae(n,t);if(p===se)throw new Error(`${g} found map but not enough entries (got ${a} [no value], expected ${e.value})`);r?i.set(f,p):o[f]=p}return r?i:o}function ae(e,n){if(e.done())return se;const t=e.next();if(t.type===s.break)return ve;if(t.type.terminal)return t.value;if(t.type===s.array)return Pr(t,e,n);if(t.type===s.map)return qr(t,e,n);if(t.type===s.tag){if(n.tags&&typeof n.tags[t.value]=="function"){const r=ae(e,n);return n.tags[t.value](r)}throw new Error(`${g} tag not supported (${t.value})`)}throw new Error("unsupported")}function Gr(e,n){if(!(e instanceof Uint8Array))throw new Error(`${g} data to decode must be a Uint8Array`);n=Object.assign({},Vr,n);const t=n.tokenizer||new jr(e,n),r=ae(t,n);if(r===se)throw new Error(`${g} did not find any content to decode`);if(r===ve)throw new Error(`${g} got unexpected break`);return[r,e.subarray(t.pos())]}function Kr(e,n){const[t,r]=Gr(e,n);if(r.length>0)throw new Error(`${g} too many terminals, data makes no sense`);return t}function Hr(e,n){if(e===n)return!0;if(e.byteLength!==n.byteLength)return!1;for(let t=0;t<e.byteLength;t++)if(e[t]!==n[t])return!1;return!0}function He(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function Jr(e,n){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(t[a]!==255)throw new TypeError(i+" is ambiguous");t[a]=o}var f=e.length,p=e.charAt(0),m=Math.log(f)/Math.log(256),l=Math.log(256)/Math.log(f);function T(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var E=0,S=0,b=0,k=u.length;b!==k&&u[b]===0;)b++,E++;for(var v=(k-b)*l+1>>>0,h=new Uint8Array(v);b!==k;){for(var w=u[b],O=0,B=v-1;(w!==0||O<S)&&B!==-1;B--,O++)w+=256*h[B]>>>0,h[B]=w%f>>>0,w=w/f>>>0;if(w!==0)throw new Error("Non-zero carry");S=O,b++}for(var N=v-S;N!==v&&h[N]===0;)N++;for(var q=p.repeat(E);N<v;++N)q+=e.charAt(h[N]);return q}function y(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var E=0;if(u[E]!==" "){for(var S=0,b=0;u[E]===p;)S++,E++;for(var k=(u.length-E)*m+1>>>0,v=new Uint8Array(k);u[E];){var h=t[u.charCodeAt(E)];if(h===255)return;for(var w=0,O=k-1;(h!==0||w<b)&&O!==-1;O--,w++)h+=f*v[O]>>>0,v[O]=h%256>>>0,h=h/256>>>0;if(h!==0)throw new Error("Non-zero carry");b=w,E++}if(u[E]!==" "){for(var B=k-b;B!==k&&v[B]===0;)B++;for(var N=new Uint8Array(S+(k-B)),q=S;B!==k;)N[q++]=v[B++];return N}}}function _(u){var E=y(u);if(E)return E;throw new Error(`Non-${n} character`)}return{encode:T,decodeUnsafe:y,decode:_}}var Xr=Jr,Qr=Xr;class Wr{constructor(n,t,r){A(this,"name");A(this,"prefix");A(this,"baseEncode");this.name=n,this.prefix=t,this.baseEncode=r}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class Yr{constructor(n,t,r){A(this,"name");A(this,"prefix");A(this,"baseDecode");A(this,"prefixCodePoint");this.name=n,this.prefix=t;const o=t.codePointAt(0);if(o===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o,this.baseDecode=r}decode(n){if(typeof n=="string"){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(n){return Fn(this,n)}}class Zr{constructor(n){A(this,"decoders");this.decoders=n}or(n){return Fn(this,n)}decode(n){const t=n[0],r=this.decoders[t];if(r!=null)return r.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Fn(e,n){return new Zr({...e.decoders??{[e.prefix]:e},...n.decoders??{[n.prefix]:n}})}class eo{constructor(n,t,r,o){A(this,"name");A(this,"prefix");A(this,"baseEncode");A(this,"baseDecode");A(this,"encoder");A(this,"decoder");this.name=n,this.prefix=t,this.baseEncode=r,this.baseDecode=o,this.encoder=new Wr(n,t,r),this.decoder=new Yr(n,t,o)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}function Rn({name:e,prefix:n,encode:t,decode:r}){return new eo(e,n,t,r)}function _e({name:e,prefix:n,alphabet:t}){const{encode:r,decode:o}=Qr(t,e);return Rn({prefix:n,name:e,encode:r,decode:i=>He(o(i))})}function no(e,n,t,r){const o={};for(let l=0;l<n.length;++l)o[n[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*t/8|0);let f=0,p=0,m=0;for(let l=0;l<i;++l){const T=o[e[l]];if(T===void 0)throw new SyntaxError(`Non-${r} character`);p=p<<t|T,f+=t,f>=8&&(f-=8,a[m++]=255&p>>f)}if(f>=t||255&p<<8-f)throw new SyntaxError("Unexpected end of data");return a}function to(e,n,t){const r=n[n.length-1]==="=",o=(1<<t)-1;let i="",a=0,f=0;for(let p=0;p<e.length;++p)for(f=f<<8|e[p],a+=8;a>t;)a-=t,i+=n[o&f>>a];if(a!==0&&(i+=n[o&f<<t-a]),r)for(;i.length*t&7;)i+="=";return i}function R({name:e,prefix:n,bitsPerChar:t,alphabet:r}){return Rn({prefix:n,name:e,encode(o){return to(o,r,t)},decode(o){return no(o,r,t,e)}})}const de=R({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});R({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});R({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});R({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});R({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});R({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});R({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});R({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});R({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const Ie=_e({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});_e({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const j=_e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});_e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ro=Ln,yn=128,oo=-128,io=Math.pow(2,31);function Ln(e,n,t){n=n||[],t=t||0;for(var r=t;e>=io;)n[t++]=e&255|yn,e/=128;for(;e&oo;)n[t++]=e&255|yn,e>>>=7;return n[t]=e|0,Ln.bytes=t-r+1,n}var so=Be,ao=128,gn=127;function Be(e,r){var t=0,r=r||0,o=0,i=r,a,f=e.length;do{if(i>=f)throw Be.bytes=0,new RangeError("Could not decode varint");a=e[i++],t+=o<28?(a&gn)<<o:(a&gn)*Math.pow(2,o),o+=7}while(a>=ao);return Be.bytes=i-r,t}var co=Math.pow(2,7),fo=Math.pow(2,14),uo=Math.pow(2,21),lo=Math.pow(2,28),ho=Math.pow(2,35),po=Math.pow(2,42),yo=Math.pow(2,49),go=Math.pow(2,56),wo=Math.pow(2,63),xo=function(e){return e<co?1:e<fo?2:e<uo?3:e<lo?4:e<ho?5:e<po?6:e<yo?7:e<go?8:e<wo?9:10},mo={encode:ro,decode:so,encodingLength:xo},ye=mo;function Ue(e,n=0){return[ye.decode(e,n),ye.decode.bytes]}function ge(e,n,t=0){return ye.encode(e,n,t),n}function we(e){return ye.encodingLength(e)}function bo(e,n){const t=n.byteLength,r=we(e),o=r+we(t),i=new Uint8Array(o+t);return ge(e,i,0),ge(t,i,r),i.set(n,o),new Je(e,t,n,i)}function vo(e){const n=He(e),[t,r]=Ue(n),[o,i]=Ue(n.subarray(r)),a=n.subarray(r+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new Je(t,o,a,n)}function _o(e,n){if(e===n)return!0;{const t=n;return e.code===t.code&&e.size===t.size&&t.bytes instanceof Uint8Array&&Hr(e.bytes,t.bytes)}}class Je{constructor(n,t,r,o){A(this,"code");A(this,"size");A(this,"digest");A(this,"bytes");this.code=n,this.size=t,this.digest=r,this.bytes=o}}function wn(e,n){const{bytes:t,version:r}=e;switch(r){case 0:return Ao(t,$e(e),n??j.encoder);default:return ko(t,$e(e),n??de.encoder)}}const xn=new WeakMap;function $e(e){const n=xn.get(e);if(n==null){const t=new Map;return xn.set(e,t),t}return n}var bn;class C{constructor(n,t,r,o){A(this,"code");A(this,"version");A(this,"multihash");A(this,"bytes");A(this,"/");A(this,bn,"CID");this.code=t,this.version=n,this.multihash=r,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:n,multihash:t}=this;if(n!==ie)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==So)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return C.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:n,digest:t}=this.multihash,r=bo(n,t);return C.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(n){return C.equals(this,n)}static equals(n,t){const r=t;return r!=null&&n.code===r.code&&n.version===r.version&&_o(n.multihash,r.multihash)}toString(n){return wn(this,n)}toJSON(){return{"/":wn(this)}}link(){return this}[(bn=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(n){if(n==null)return null;const t=n;if(t instanceof C)return t;if(t["/"]!=null&&t["/"]===t.bytes||t.asCID===t){const{version:r,code:o,multihash:i,bytes:a}=t;return new C(r,o,i,a??mn(r,o,i.bytes))}else if(t[To]===!0){const{version:r,multihash:o,code:i}=t,a=vo(o);return C.create(r,i,a)}else return null}static create(n,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(n){case 0:{if(t!==ie)throw new Error(`Version 0 CID must use dag-pb (code: ${ie}) block encoding`);return new C(n,t,r,r.bytes)}case 1:{const o=mn(n,t,r.bytes);return new C(n,t,r,o)}default:throw new Error("Invalid version")}}static createV0(n){return C.create(0,ie,n)}static createV1(n,t){return C.create(1,n,t)}static decode(n){const[t,r]=C.decodeFirst(n);if(r.length!==0)throw new Error("Incorrect length");return t}static decodeFirst(n){const t=C.inspectBytes(n),r=t.size-t.multihashSize,o=He(n.subarray(r,r+t.multihashSize));if(o.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=o.subarray(t.multihashSize-t.digestSize),a=new Je(t.multihashCode,t.digestSize,i,o);return[t.version===0?C.createV0(a):C.createV1(t.codec,a),n.subarray(t.size)]}static inspectBytes(n){let t=0;const r=()=>{const[T,y]=Ue(n.subarray(t));return t+=y,T};let o=r(),i=ie;if(o===18?(o=0,t=0):i=r(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=t,f=r(),p=r(),m=t+p,l=m-a;return{version:o,codec:i,multihashCode:f,digestSize:p,multihashSize:l,size:m}}static parse(n,t){const[r,o]=Eo(n,t),i=C.decode(o);if(i.version===0&&n[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return $e(i).set(r,n),i}}function Eo(e,n){switch(e[0]){case"Q":{const t=n??j;return[j.prefix,t.decode(`${j.prefix}${e}`)]}case j.prefix:{const t=n??j;return[j.prefix,t.decode(e)]}case de.prefix:{const t=n??de;return[de.prefix,t.decode(e)]}case Ie.prefix:{const t=n??Ie;return[Ie.prefix,t.decode(e)]}default:{if(n==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],n.decode(e)]}}}function Ao(e,n,t){const{prefix:r}=t;if(r!==j.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const o=n.get(r);if(o==null){const i=t.encode(e).slice(1);return n.set(r,i),i}else return o}function ko(e,n,t){const{prefix:r}=t,o=n.get(r);if(o==null){const i=t.encode(e);return n.set(r,i),i}else return o}const ie=112,So=18;function mn(e,n,t){const r=we(e),o=r+we(n),i=new Uint8Array(o+t.byteLength);return ge(e,i,0),ge(n,i,r),i.set(t,o),i}const To=Symbol.for("@ipld/js-cid/CID"),Vn=42;function jn(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function No(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const n=C.asCID(e);if(!n)return null;const t=new Uint8Array(n.bytes.byteLength+1);return t.set(n.bytes,1),[new d(s.tag,Vn),new d(s.bytes,t)]}function Co(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Io(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const Me={float64:!0,typeEncoders:{Object:No,undefined:Co,number:Io}},Bo={...Me,typeEncoders:{...Me.typeEncoders}};function Uo(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return C.decode(e.subarray(1))}const xe={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};xe.tags[Vn]=Uo;const $o={...xe,tags:xe.tags.slice()},Mo="dag-cbor",Oo=113,zo=e=>Lr(e,Me),Do=e=>Kr(jn(e),xe),Yo=Object.freeze(Object.defineProperty({__proto__:null,code:Oo,decode:Do,decodeOptions:$o,encode:zo,encodeOptions:Bo,name:Mo,toByteView:jn},Symbol.toStringTag,{value:"Module"})),Fo=[{name:"D. Guttenfelder",url:"https://stanford.aa.dev.starlinglab.org"},{name:"kira",url:"https://kira.aa.prod.starlinglab.org"}],Ro=()=>{if(typeof localStorage<"u"){const e=localStorage.getItem("aa-explorer-endpoints");if(e)try{const n=JSON.parse(e);if(n&&n.length>0)return n}catch(n){console.error("Failed to parse stored endpoints:",n)}}return[...Fo]},Lo=Sn(Ro()),Zo=Sn(null);Lo.subscribe(e=>{typeof localStorage<"u"&&localStorage.setItem("aa-explorer-endpoints",JSON.stringify(e))});export{C,Wo as M,Jo as a,Zo as b,bo as c,Do as d,Lo as e,Yo as f,un as g,Ho as i,Xo as r,Qo as s};
