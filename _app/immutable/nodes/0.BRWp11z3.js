import{t as k,e as d,a as _}from"../chunks/BGR-hWuH.js";import{D as H,G as J,M as K,n as Q,a1 as V,E as W,O as X,p as N,x as f,a2 as Y,j as z,a3 as I,m as p,k as h,l as u,g as s,t as Z,i as tt}from"../chunks/BhKqv_0E.js";import{i as et}from"../chunks/DGVKPdcq.js";import{p as at,i as rt}from"../chunks/D6QS8eLZ.js";import{e as R,M as nt,a as ot,r as $,s as j,i as st,b as it}from"../chunks/DImRzSmZ.js";function dt(v,r,...l){var t=v,n=Q,o;H(()=>{n!==(n=r())&&(o&&(V(o),o=null),o=K(()=>n(t,...l)))},J),W&&(t=X)}var lt=k('<button class="p-1 text-red-500 hover:text-red-700" title="Remove endpoint">✕</button>'),ct=k('<div class="flex items-center gap-2 p-2 bg-gray-50 rounded border border-gray-200 svelte-1kec5vf" draggable="true"><div class="cursor-move p-1 svelte-1kec5vf">☰</div> <div class="flex-grow grid grid-cols-2 gap-2"><input type="text" class="p-2 border border-gray-300 rounded" placeholder="Display Name"> <input type="text" class="p-2 border border-gray-300 rounded" placeholder="URL"></div> <!></div>'),pt=k('<div class="mb-4"><p class="text-sm text-gray-600 mb-2">Configure and reorder the endpoints. The first endpoint will be considered the primary source.</p> <div class="endpoints-list space-y-2 svelte-1kec5vf"></div> <div class="mt-4 flex justify-between"><button class="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">+ Add Endpoint</button> <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save Changes</button></div></div>');function ut(v,r){N(r,!1);let l=at(r,"showModal",12,!1),t=I([]);const n=R.subscribe(e=>{f(t,e.map((a,i)=>({name:a.name,url:a.url,id:`endpoint-${i}`})))});Y(()=>()=>{n()});function o(){const e=s(t).map(a=>({name:a.name,url:a.url}));R.set(e),l(!1)}function b(){const e={name:"New Endpoint",url:"https://"};f(t,[...s(t),{...e,id:`endpoint-${s(t).length}`}])}function M(e){f(t,s(t).filter((a,i)=>i!==e))}function x(e,a,i){const m=[...s(t)];m[e][a]=i,f(t,m)}let c;function P(e){c=e}function B(e){e.preventDefault()}function F(e){if(c===void 0)return;const a=[...s(t)],[i]=a.splice(c,1);a.splice(e,0,i),f(t,a),c=void 0}et(),nt(v,{get showModal(){return l()},title:"Endpoint Settings",children:(e,a)=>{var i=pt(),m=p(h(i),2);ot(m,5,()=>s(t),st,(U,L,y)=>{var w=ct(),S=p(h(w),2),E=h(S);$(E);var A=p(E,2);$(A),u(S);var G=p(S,2);{var q=g=>{var T=lt();d("click",T,()=>M(y)),_(g,T)};rt(G,g=>{s(t).length>1&&g(q)})}u(w),Z(()=>{j(E,s(L).name),j(A,s(L).url)}),d("input",E,g=>x(y,"name",g.currentTarget.value)),d("input",A,g=>x(y,"url",g.currentTarget.value)),d("dragstart",w,()=>P(y)),d("dragover",w,B),d("drop",w,()=>F(y)),_(U,w)}),u(m);var C=p(m,2),D=h(C),O=p(D,2);u(C),u(i),d("click",D,b),d("click",O,o),_(e,i)},$$slots:{default:!0}}),z()}var vt=k('<div class="settings-button svelte-1so8a75"><button class="p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors" title="Settings"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button> <!></div>');function gt(v){let r=I(!1);function l(){f(r,!s(r))}var t=vt(),n=h(t),o=p(n,2);ut(o,{get showModal(){return s(r)},set showModal(b){f(r,b)},$$legacy:!0}),u(t),d("click",n,l),_(v,t)}var ft=k('<div class="navbar sticky top-0 bg-white shadow-md z-50"><div class="logo"><img src="/logo.png" alt="AA Explorer Logo" class="logo-img"> <span>Authenticated Attributes Explorer</span></div> <div class="navbar-right"><!></div></div> <!>',1);function _t(v,r){N(r,!0);function l(){it.set(null);const c=new URL(window.location.href);c.searchParams.delete("selectedCID"),window.history.pushState({},"",c),window.dispatchEvent(new Event("popstate"))}var t=ft(),n=tt(t),o=h(n),b=p(o,2),M=h(b);gt(M),u(b),u(n);var x=p(n,2);dt(x,()=>r.children),d("click",o,l),d("keydown",o,c=>c.key==="Enter"&&l()),_(v,t),z()}export{_t as component};
